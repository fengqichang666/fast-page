import{d as w,a as G,f as J,E as P,n as U}from"./element-plus-b6159f1d.js";import{J as $,e as _,a1 as j,c as m,Y as t,R as o,u as M,F as x,a5 as Q,o as r,W as C,Q as W,X as E,V as I,a as n,S as y,al as D,a8 as X}from"./@vue-def104b1.js";import{d as Y}from"./vuedraggable-699f9566.js";import{_ as q}from"./index-01746285.js";import"./lodash-es-9a8f223b.js";import"./@vueuse-a19e87ed.js";import"./@element-plus-2a19e5ea.js";import"./@popperjs-892fd7f5.js";import"./@ctrl-eb0b847c.js";import"./dayjs-f957df0c.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui-36031e6b.js";import"./vue-29042d9f.js";import"./sortablejs-f053cdf0.js";import"./vue-router-b6d19fbf.js";const z={class:"card-header"},H={class:"okr-title"},Z=["onUpdate:modelValue"],ee={class:"kr"},te=["onUpdate:modelValue"],oe={key:0,class:"del-icon"},ae=$({__name:"index",setup(se){const l=_(!1),u=_(!1),e=j((()=>localStorage.getItem("FASTPAGE-OKRLIST")&&JSON.parse(localStorage.getItem("FASTPAGE-OKRLIST"))||[])()),A=()=>{const a={idx:e.length+1,o:"",kr1:"",kr2:"",kr3:"",kr4:"",kr5:""};e.push(a),i()},f=()=>{i()},g=()=>{u.value=!0},v=()=>{u.value=!1},i=()=>{localStorage.setItem("FASTPAGE-OKRLIST",JSON.stringify(e))},B=a=>{d.value||(e.splice(a,1),k(),localStorage.setItem("FASTPAGE-OKRLIST",JSON.stringify(e)))},O=()=>{l.value=!l.value},T=()=>{d.value=!1,k(),i()},d=_(!1),b=()=>{d.value=!0},k=()=>{e.forEach((a,h)=>{a.idx=h+1})};return(a,h)=>{const F=w,S=G,R=J,V=Q("Delete"),L=P,K=U;return r(),m(x,null,[t(R,{align:"middle"},{default:o(()=>[t(S,{span:4,offset:1},{default:o(()=>[t(F,{type:"primary",onClick:A},{default:o(()=>[C("\u6DFB\u52A0OKR\u6A21\u677F")]),_:1}),e.length>0?(r(),W(F,{key:0,type:"danger",onClick:O,textContent:E(l.value?"\u8FD4\u56DE":"\u5220\u9664")},null,8,["textContent"])):I("",!0)]),_:1}),t(S,{class:"f12 tips",span:4},{default:o(()=>[C(" \u53EF\u62D6\u52A8\u5361\u7247\u8FDB\u884C\u6392\u5E8F ")]),_:1})]),_:1}),t(M(Y),{disabled:u.value,class:"flex wrap justify-center","force-fallback":!0,list:e,animation:1e3,"item-key":"idx",onEnd:T,onStart:b},{item:o(({element:s,index:p})=>[t(K,{class:"box-card relative"},{header:o(()=>[n("div",z,[n("span",H,"OKR"+E(s.idx),1),y(n("input",{onChange:f,onFocus:g,onBlur:v,"onUpdate:modelValue":c=>s.o=c,class:"ml12 o-width",placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684Object"},null,40,Z),[[D,s.o]])])]),default:o(()=>[n("div",ee,[(r(),m(x,null,X(5,c=>y(n("input",{onChange:f,onFocus:g,onBlur:v,key:c,"onUpdate:modelValue":N=>s[`kr${p+1}`]=N,placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684KR"},null,40,te),[[D,s[`kr${p+1}`]]])),64))]),l.value?(r(),m("div",oe,[t(L,{onClick:c=>B(p)},{default:o(()=>[t(V)]),_:2},1032,["onClick"])])):I("",!0)]),_:2},1024)]),_:1},8,["disabled","list"])],64)}}});const Ee=q(ae,[["__scopeId","data-v-cf2aa0c7"]]);export{Ee as default};
