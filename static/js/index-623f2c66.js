import{E as P,d as G,f as J,e as M,c as $,n as R}from"./element-plus-cdaf2fa1.js";import{d as U}from"./vuedraggable-699f9566.js";import{J as Y,a1 as z,c as h,Y as n,R as l,u as H,F as Q,a5 as W,o as p,W as f,L as X,a as r,X as y,Q as C,V as T,b8 as Z,b7 as j}from"./@vue-def104b1.js";import{_ as q}from"./index-0d66a9ed.js";import"./lodash-es-9a8f223b.js";import"./@vueuse-a19e87ed.js";import"./@element-plus-2a19e5ea.js";import"./@popperjs-892fd7f5.js";import"./@ctrl-eb0b847c.js";import"./dayjs-f957df0c.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui-36031e6b.js";import"./vue-29042d9f.js";import"./sortablejs-f053cdf0.js";import"./vue-router-3e3275fe.js";const S=e=>{let i;return e<10?i="0"+e:i=e+"",i},K=()=>{const e=new Date,i=e.getFullYear()+"",u=S(e.getMonth()),g=S(e.getDate()),d=S(e.getHours()),m=S(e.getMinutes()),I=S(e.getSeconds());return{yyyy:i,MM:u,dd:g,hh:d,mm:m,ss:I}},F=()=>{const{yyyy:e,MM:i,dd:u,hh:g,mm:d,ss:m}=K();return e+"-"+i+"-"+u+" "+g+":"+d+":"+m},tt=e=>(Z("data-v-51cc19f2"),e=e(),j(),e),st=tt(()=>r("h2",{class:"title"},"TODOLIST",-1)),ot={key:0,class:"flex"},et={class:"number-color"},at={class:"per80"},ct={key:1,class:"flex"},nt={class:"number-color"},lt={class:"per80"},it={class:"text"},dt={class:"date"},rt={key:0,class:"self-center"},ut={class:"del"},_t=Y({__name:"index",setup(e){const i=()=>localStorage.getItem("FASTPAGE-TODOLIST")&&JSON.parse(localStorage.getItem("FASTPAGE-TODOLIST"))||[],u=i().sort((t,s)=>t.idx-s.idx);(()=>{u.forEach((t,s)=>t.idx=s+1),localStorage.setItem("FASTPAGE-TODOLIST",JSON.stringify(u))})();const d=z(u),m=()=>{const t={value:"",originVal:"",status:0,id:new Date().getTime()+"",idx:d.length+1};d.push(t)},I=t=>{t.status=2,t.originVal=t.value,t.date=F(),x(t)},O=(t,s)=>{t.status===0?d.splice(s,1):(t.value=t.originVal,t.status=2)},k=(t,s)=>{d.splice(s,1),A(t)},D=(t,s)=>{t.status=1},x=t=>{const s=i(),o=s.findIndex(a=>t.id===a.id);o>-1?s[o]=t:s.push(t),localStorage.setItem("FASTPAGE-TODOLIST",JSON.stringify(s))},A=t=>{const s=i(),o=s.findIndex(a=>t.id=a.id);s.splice(o,1),localStorage.setItem("FASTPAGE-TODOLIST",JSON.stringify(s))},V=t=>{t.status=3,t.date=F();const s=i(),o=s.findIndex(a=>t.id=a.id);s[o].status=3,s[o].date=t.date,localStorage.setItem("FASTPAGE-TODOLIST",JSON.stringify(s))},B=()=>{const t=i();d.forEach((o,a)=>o.idx=a+1);const s=d.filter(o=>t.some(a=>o.id===a.id));s.forEach(o=>{o.status===1&&(o.status=2,o.value=o.originVal)}),localStorage.setItem("FASTPAGE-TODOLIST",JSON.stringify(s))};return(t,s)=>{const o=P,a=G,E=J,L=M,N=W("CloseBold"),b=$,w=R;return p(),h(Q,null,[n(E,{class:"todolist",align:"middle"},{default:l(()=>[n(o,{span:3},{default:l(()=>[st]),_:1}),n(o,{span:2},{default:l(()=>[n(a,{type:"primary",onClick:m},{default:l(()=>[f(" \u65B0\u589E\u4E00\u6761 ")]),_:1})]),_:1}),n(o,{class:"f12 tips",span:4},{default:l(()=>[f(" \u53EF\u62D6\u52A8\u5361\u7247\u8FDB\u884C\u6392\u5E8F ")]),_:1})]),_:1}),n(H(U),{"force-fallback":!0,list:d,animation:1e3,"item-key":"idx",onEnd:B},{item:l(({element:c,index:v})=>[n(E,{class:"mt16"},{default:l(()=>[n(o,{span:20,offset:2},{default:l(()=>[n(w,{shadow:"hover",class:X(["relative",c.status===3?"complete":""])},{default:l(()=>[c.status===0||c.status===1?(p(),h("div",ot,[r("div",et,y(v+1)+"\u3001",1),r("div",at,[n(L,{modelValue:c.value,"onUpdate:modelValue":_=>c.value=_,placeholder:"Please input",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),c.Status!==3?(p(),C(a,{key:0,type:"primary",class:"ml20",onClick:_=>I(c)},{default:l(()=>[f(" \u4FDD\u5B58 ")]),_:2},1032,["onClick"])):T("",!0),c.Status!==3?(p(),C(a,{key:1,type:"info",onClick:_=>O(c,v)},{default:l(()=>[f(" \u53D6\u6D88 ")]),_:2},1032,["onClick"])):T("",!0)])):(p(),h("div",ct,[r("div",nt,y(v+1)+"\u3001",1),r("div",lt,[r("div",it,y(c.value),1),r("div",dt,"\u6700\u65B0\u4FEE\u6539\u65F6\u95F4\uFF1A"+y(c.date),1)]),c.status!==3?(p(),h("div",rt,[n(a,{type:"primary",class:"ml20",onClick:_=>D(c)},{default:l(()=>[f(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),n(a,{type:"success",onClick:_=>V(c)},{default:l(()=>[f(" \u5B8C\u6210 ")]),_:2},1032,["onClick"])])):T("",!0),r("div",ut,[n(b,{onClick:_=>k(c,v)},{default:l(()=>[n(N)]),_:2},1032,["onClick"])])]))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)]),_:1},8,["list"])],64)}}});const Vt=q(_t,[["__scopeId","data-v-51cc19f2"]]);export{Vt as default};
