import{d as w,a as G,g as J,E as P,o as U}from"./element-plus-4c09646d.js";import{J as $,e as p,a1 as j,c as _,Y as t,R as o,u as M,F as x,a5 as Q,o as c,W as S,Q as W,X as C,V as E,a as l,S as I,al as y,a8 as X}from"./@vue-a4ee1718.js";import{d as Y}from"./vuedraggable-a716c93d.js";import{_ as q}from"./index-aac4ddaf.js";import"./lodash-es-9a8f223b.js";import"./@vueuse-d6e75e66.js";import"./@element-plus-610de9ec.js";import"./@popperjs-892fd7f5.js";import"./@ctrl-eb0b847c.js";import"./dayjs-f957df0c.js";import"./async-validator-efc2d198.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-da779ce4.js";import"./@floating-ui-36031e6b.js";import"./vue-126c160f.js";import"./sortablejs-f053cdf0.js";import"./vue-router-a40a2a94.js";import"./pinia-5b8e6fe6.js";const z={class:"card-header"},H={class:"okr-title"},Z=["onUpdate:modelValue"],ee={class:"kr"},te=["onUpdate:modelValue"],oe={key:0,class:"del-icon"},ae=$({__name:"index",setup(se){const r=p(!1),u=p(!1),e=j((()=>localStorage.getItem("FASTPAGE-OKRLIST")&&JSON.parse(localStorage.getItem("FASTPAGE-OKRLIST"))||[])()),D=()=>{const a={idx:e.length+1,o:"",kr1:"",kr2:"",kr3:"",kr4:"",kr5:""};e.push(a),i()},m=()=>{i()},f=()=>{u.value=!0},g=()=>{u.value=!1},i=()=>{localStorage.setItem("FASTPAGE-OKRLIST",JSON.stringify(e))},A=a=>{d.value||(e.splice(a,1),v(),localStorage.setItem("FASTPAGE-OKRLIST",JSON.stringify(e)))},B=()=>{r.value=!r.value},O=()=>{d.value=!1,v(),i()},d=p(!1),T=()=>{d.value=!0},v=()=>{e.forEach((a,k)=>{a.idx=k+1})};return(a,k)=>{const h=w,F=G,b=J,R=Q("Delete"),V=P,L=U;return c(),_(x,null,[t(b,{align:"middle"},{default:o(()=>[t(F,{span:4,offset:1},{default:o(()=>[t(h,{type:"primary",onClick:D},{default:o(()=>[S("\u6DFB\u52A0OKR\u6A21\u677F")]),_:1}),e.length>0?(c(),W(h,{key:0,type:"danger",onClick:B,textContent:C(r.value?"\u8FD4\u56DE":"\u5220\u9664")},null,8,["textContent"])):E("",!0)]),_:1}),t(F,{class:"f12 tips",span:4},{default:o(()=>[S(" \u53EF\u62D6\u52A8\u5361\u7247\u8FDB\u884C\u6392\u5E8F ")]),_:1})]),_:1}),t(M(Y),{disabled:u.value,class:"flex wrap justify-center","force-fallback":!0,list:e,animation:1e3,"item-key":"idx",onEnd:O,onStart:T},{item:o(({element:n,index:K})=>[t(L,{class:"box-card relative"},{header:o(()=>[l("div",z,[l("span",H,"OKR"+C(n.idx),1),I(l("input",{onChange:m,onFocus:f,onBlur:g,"onUpdate:modelValue":s=>n.o=s,class:"ml12 o-width",placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684Object"},null,40,Z),[[y,n.o]])])]),default:o(()=>[l("div",ee,[(c(),_(x,null,X(5,s=>I(l("input",{onChange:m,onFocus:f,onBlur:g,key:s,"onUpdate:modelValue":N=>n[`kr${s+1}`]=N,placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684KR"},null,40,te),[[y,n[`kr${s+1}`]]])),64))]),r.value?(c(),_("div",oe,[t(V,{onClick:s=>A(K)},{default:o(()=>[t(R)]),_:2},1032,["onClick"])])):E("",!0)]),_:2},1024)]),_:1},8,["disabled","list"])],64)}}});const Ie=q(ae,[["__scopeId","data-v-d1505323"]]);export{Ie as default};
